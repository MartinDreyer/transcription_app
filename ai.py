from openai import OpenAI

words = [{'id': 0, 'word': ' Det', 'start': 5.52, 'end': 5.84}, {'id': 1, 'word': ' er', 'start': 5.84, 'end': 5.86}, {'id': 2, 'word': ' et', 'start': 5.86, 'end': 5.94}, {'id': 3, 'word': ' forkallighed,', 'start': 5.94, 'end': 6.48}, {'id': 4, 'word': ' der', 'start': 6.58, 'end': 6.58}, {'id': 5, 'word': ' er', 'start': 6.58, 'end': 6.66}, {'id': 6, 'word': ' været', 'start': 6.66, 'end': 6.84}, {'id': 7, 'word': ' til', 'start': 6.84, 'end': 7.0}, {'id': 8, 'word': ' mig', 'start': 7.0, 'end': 7.08}, {'id': 9, 'word': ' over', 'start': 7.08, 'end': 7.2}, {'id': 10, 'word': ' hele', 'start': 7.2, 'end': 7.38}, {'id': 11, 'word': ' oven.', 'start': 7.38, 'end': 7.6}, {'id': 12, 'word': ' De', 'start': 8.2, 'end': 8.52}, {'id': 13, 'word': ' som', 'start': 8.52, 'end': 8.66}, {'id': 14, 'word': ' småbørn', 'start': 8.66, 'end': 9.1}, {'id': 15, 'word': ' går', 'start': 9.1, 'end': 9.16}, {'id': 16, 'word': ' krigtrakt', 'start': 9.16, 'end': 9.7}, {'id': 17, 'word': ' og', 'start': 9.7, 'end': 9.84}, {'id': 18, 'word': ' andre', 'start': 9.84, 'end': 10.08}, {'id': 19, 'word': ' kan', 'start': 10.08, 'end': 10.26}, {'id': 20, 'word': ' lide', 'start': 10.26, 'end': 10.48}, {'id': 21, 'word': ' hans', 'start': 10.48, 'end': 11.32}, {'id': 22, 'word': ' bil', 'start': 11.32, 'end': 11.5}, {'id': 23, 'word': ' af', 'start': 11.5, 'end': 11.62}, {'id': 24, 'word': ' en', 'start': 11.62, 'end': 11.72}, {'id': 25, 'word': ' gravmaskiner.', 'start': 11.72, 'end': 12.2}, {'id': 26, 'word': ' Den', 'start': 20.52, 'end': 20.84}, {'id': 27, 'word': ' lede', 'start': 20.84, 'end': 21.16}, {'id': 28, 'word': ' i', 'start': 21.16, 'end': 21.34}, {'id': 29, 'word': ' EF4B', 'start': 21.34, 'end': 22.54}, {'id': 30, 'word': ' og', 'start': 22.54, 'end': 22.8}, {'id': 31, 'word': ' lave', 'start': 22.8, 'end': 23.14}, {'id': 32, 'word': ' en', 'start': 23.14, 'end': 23.58}, {'id': 33, 'word': ' showbil,', 'start': 23.58, 'end': 24.42}, {'id': 34, 'word': ' jeg', 'start': 25.26, 'end': 25.36}, {'id': 35, 'word': ' kan', 'start': 25.36, 'end': 25.46}, {'id': 36, 'word': ' også', 'start': 25.46, 'end': 25.6}, {'id': 37, 'word': ' gå', 'start': 25.6, 'end': 25.72}, {'id': 38, 'word': ' med', 'start': 25.72, 'end': 25.82}, {'id': 39, 'word': ' at', 'start': 25.82, 'end': 25.94}, {'id': 40, 'word': ' nogen', 'start': 25.94, 'end': 26.06}, {'id': 41, 'word': ' om,', 'start': 26.06, 'end': 26.16}, {'id': 42, 'word': ' hvis', 'start': 26.16, 'end': 26.28}, {'id': 43, 'word': ' det', 'start': 26.28, 'end': 26.4}, {'id': 44, 'word': ' er', 'start': 26.4, 'end': 26.42}, {'id': 45, 'word': ' en', 'start': 26.42, 'end': 26.46}, {'id': 46, 'word': ' bil,', 'start': 26.46, 'end': 26.6}, {'id': 47, 'word': ' jeg', 'start': 26.64, 'end': 26.74}, {'id': 48, 'word': ' måske', 'start': 26.74, 'end': 26.86}, {'id': 49, 'word': ' ikke', 'start': 26.86, 'end': 27.0}, {'id': 50, 'word': ' at', 'start': 27.0, 'end': 27.04}, {'id': 51, 'word': ' heller', 'start': 27.04, 'end': 27.24}, {'id': 52, 'word': ' på', 'start': 27.24, 'end': 27.42}, {'id': 53, 'word': ' kører.', 'start': 27.42, 'end': 27.68}, {'id': 54, 'word': ' Utifitioner', 'start': 28.400000000000002, 'end': 28.72}, {'id': 55, 'word': ' er', 'start': 28.72, 'end': 28.78}, {'id': 56, 'word': ' der,', 'start': 28.78, 'end': 28.82}, {'id': 57, 'word': ' at', 'start': 29.3, 'end': 29.58}, {'id': 58, 'word': ' det', 'start': 29.58, 'end': 29.68}, {'id': 59, 'word': ' er', 'start': 29.68, 'end': 29.84}, {'id': 60, 'word': ' bare', 'start': 29.84, 'end': 30.04}, {'id': 61, 'word': ' den', 'start': 30.04, 'end': 30.68}, {'id': 62, 'word': ' bil,', 'start': 30.68, 'end': 31.32}, {'id': 63, 'word': ' jeg', 'start': 31.48, 'end': 31.5}, {'id': 64, 'word': ' har', 'start': 31.5, 'end': 31.54}, {'id': 65, 'word': ' bage', 'start': 31.54, 'end': 31.74}, {'id': 66, 'word': ' mig', 'start': 31.74, 'end': 31.92}, {'id': 67, 'word': ' af', 'start': 31.92, 'end': 32.04}, {'id': 68, 'word': ' det.', 'start': 32.04, 'end': 32.14}, {'id': 69, 'word': ' Hvis', 'start': 32.780000000000015, 'end': 33.10000000000001}, {'id': 70, 'word': ' det', 'start': 33.10000000000001, 'end': 33.42}, {'id': 71, 'word': ' er,', 'start': 33.42, 'end': 33.6}, {'id': 72, 'word': ' jeg', 'start': 33.62, 'end': 34.18}, {'id': 73, 'word': ' har', 'start': 34.18, 'end': 34.28}, {'id': 74, 'word': ' lavet', 'start': 34.28, 'end': 34.38}, {'id': 75, 'word': ' den', 'start': 34.38, 'end': 34.52}, {'id': 76, 'word': ' flere', 'start': 34.52, 'end': 34.76}, {'id': 77, 'word': ' gange,', 'start': 34.76, 'end': 34.98}, {'id': 78, 'word': ' men', 'start': 35.56, 'end': 35.64}, {'id': 79, 'word': ' bare', 'start': 35.64, 'end': 35.98}, {'id': 80, 'word': ' forlåt,', 'start': 35.98, 'end': 36.32}, {'id': 81, 'word': ' så', 'start': 36.44, 'end': 36.44}, {'id': 82, 'word': ' lille', 'start': 36.44, 'end': 36.56}, {'id': 83, 'word': ' jeg', 'start': 36.56, 'end': 36.64}, {'id': 84, 'word': ' lavet', 'start': 36.64, 'end': 36.74}, {'id': 85, 'word': ' den', 'start': 36.74, 'end': 36.86}, {'id': 86, 'word': ' igen,', 'start': 36.86, 'end': 37.08}, {'id': 87, 'word': ' det', 'start': 37.26, 'end': 37.26}, {'id': 88, 'word': ' er,', 'start': 37.26, 'end': 37.34}, {'id': 89, 'word': ' jeg', 'start': 37.34, 'end': 37.58}, {'id': 90, 'word': ' kan', 'start': 37.58, 'end': 37.68}, {'id': 91, 'word': ' blive', 'start': 37.68, 'end': 37.8}, {'id': 92, 'word': ' helt', 'start': 37.8, 'end': 37.96}, {'id': 93, 'word': ' lade', 'start': 37.96, 'end': 38.1}, {'id': 94, 'word': ' for.', 'start': 38.1, 'end': 38.22}, {'id': 95, 'word': ' Jeg', 'start': 43.2, 'end': 43.52}, {'id': 96, 'word': ' er', 'start': 43.52, 'end': 43.56}, {'id': 97, 'word': ' mange', 'start': 43.56, 'end': 43.72}, {'id': 98, 'word': ' et', 'start': 43.72, 'end': 43.84}, {'id': 99, 'word': ' flaset,', 'start': 43.84, 'end': 44.16}, {'id': 100, 'word': ' der', 'start': 44.28, 'end': 44.38}, {'id': 101, 'word': ' er', 'start': 44.38, 'end': 44.46}, {'id': 102, 'word': ' jo', 'start': 44.46, 'end': 44.5}, {'id': 103, 'word': ' flaset', 'start': 44.5, 'end': 44.8}, {'id': 104, 'word': ' ud', 'start': 44.8, 'end': 44.98}, {'id': 105, 'word': ' i', 'start': 44.98, 'end': 45.54}, {'id': 106, 'word': ' videlfart.', 'start': 45.54, 'end': 45.94}, {'id': 107, 'word': ' Og', 'start': 47.480000000000004, 'end': 47.8}, {'id': 108, 'word': ' så', 'start': 47.8, 'end': 47.9}, {'id': 109, 'word': ' kunne', 'start': 47.9, 'end': 48.02}, {'id': 110, 'word': ' jeg', 'start': 48.02, 'end': 48.08}, {'id': 111, 'word': ' få', 'start': 48.08, 'end': 48.16}, {'id': 112, 'word': ' lavet', 'start': 48.16, 'end': 48.26}, {'id': 113, 'word': ' med', 'start': 48.26, 'end': 48.36}, {'id': 114, 'word': ' et', 'start': 48.36, 'end': 48.44}, {'id': 115, 'word': ' værster,', 'start': 48.44, 'end': 48.68}, {'id': 116, 'word': ' så', 'start': 48.74, 'end': 48.84}, {'id': 117, 'word': ' jeg', 'start': 48.84, 'end': 48.86}, {'id': 118, 'word': ' ville', 'start': 48.86, 'end': 49.1}, {'id': 119, 'word': ' ikke', 'start': 49.1, 'end': 49.3}, {'id': 120, 'word': ' ikke', 'start': 49.3, 'end': 49.42}, {'id': 121, 'word': ' helt', 'start': 49.42, 'end': 49.62}, {'id': 122, 'word': ' lave', 'start': 49.62, 'end': 49.74}, {'id': 123, 'word': ' dem.', 'start': 49.74, 'end': 49.9}, {'id': 124, 'word': ' Selvom', 'start': 50.18, 'end': 50.38}, {'id': 125, 'word': ' jeg', 'start': 50.38, 'end': 50.48}, {'id': 126, 'word': ' ikke', 'start': 50.48, 'end': 50.6}, {'id': 127, 'word': ' kunne', 'start': 50.6, 'end': 50.88}, {'id': 128, 'word': ' tukse', 'start': 50.88, 'end': 51.22}, {'id': 129, 'word': ' efter,', 'start': 51.22, 'end': 51.46}, {'id': 130, 'word': ' jeg', 'start': 51.54, 'end': 51.64}, {'id': 131, 'word': ' skulle', 'start': 51.64, 'end': 51.8}, {'id': 132, 'word': ' lave', 'start': 51.8, 'end': 51.98}, {'id': 133, 'word': ' det', 'start': 51.98, 'end': 52.06}, {'id': 134, 'word': ' dem.', 'start': 52.06, 'end': 52.2}, {'id': 135, 'word': ' Jeg', 'start': 52.2, 'end': 52.26}, {'id': 136, 'word': ' har', 'start': 52.26, 'end': 53.08}, {'id': 137, 'word': ' ikke', 'start': 53.08, 'end': 53.2}, {'id': 138, 'word': ' bare', 'start': 53.2, 'end': 53.32}, {'id': 139, 'word': ' en', 'start': 53.32, 'end': 53.38}, {'id': 140, 'word': ' doppelig', 'start': 53.38, 'end': 53.68}, {'id': 141, 'word': ' arsinsted,', 'start': 53.68, 'end': 54.08}, {'id': 142, 'word': ' fordi', 'start': 54.26, 'end': 54.26}, {'id': 143, 'word': ' jeg', 'start': 54.26, 'end': 54.58}, {'id': 144, 'word': ' skal', 'start': 54.58, 'end': 54.8}, {'id': 145, 'word': ' forkab', 'start': 54.8, 'end': 55.62}, {'id': 146, 'word': ' i', 'start': 55.62, 'end': 55.78}, {'id': 147, 'word': ' bilen.', 'start': 55.78, 'end': 56.24}, {'id': 148, 'word': ' Jeg', 'start': 59.04, 'end': 59.44}, {'id': 149, 'word': ' har', 'start': 59.44, 'end': 59.46}, {'id': 150, 'word': ' meget', 'start': 59.46, 'end': 59.6}, {'id': 151, 'word': ' ansvar,', 'start': 59.6, 'end': 59.98}, {'id': 152, 'word': ' der', 'start': 60.08, 'end': 60.14}, {'id': 153, 'word': ' har', 'start': 60.14, 'end': 60.24}, {'id': 154, 'word': ' mange', 'start': 60.24, 'end': 60.72}, {'id': 155, 'word': ' stilling', 'start': 60.72, 'end': 61.06}, {'id': 156, 'word': ' af', 'start': 61.06, 'end': 61.16}, {'id': 157, 'word': ' det,', 'start': 61.16, 'end': 61.28}, {'id': 158, 'word': ' så', 'start': 61.28, 'end': 61.66}, {'id': 159, 'word': ' tinglige', 'start': 61.66, 'end': 62.02}, {'id': 160, 'word': ' skal', 'start': 62.02, 'end': 62.14}, {'id': 161, 'word': ' til', 'start': 62.14, 'end': 62.24}, {'id': 162, 'word': ' stilling', 'start': 62.24, 'end': 62.5}, {'id': 163, 'word': ' til,', 'start': 62.5, 'end': 62.62}, {'id': 164, 'word': ' som', 'start': 62.74, 'end': 62.9}, {'id': 165, 'word': ' kun', 'start': 62.9, 'end': 63.84}, {'id': 166, 'word': ' du', 'start': 63.84, 'end': 64.14}, {'id': 167, 'word': ' lidt', 'start': 64.14, 'end': 64.74}, {'id': 168, 'word': ' har', 'start': 64.74, 'end': 65.36}, {'id': 169, 'word': ' ansvar,', 'start': 65.36, 'end': 65.9}, {'id': 170, 'word': ' og', 'start': 65.98, 'end': 66.08}, {'id': 171, 'word': ' det', 'start': 66.08, 'end': 66.2}, {'id': 172, 'word': ' er', 'start': 66.2, 'end': 66.24}, {'id': 173, 'word': ' alle', 'start': 66.24, 'end': 66.36}, {'id': 174, 'word': ' skramle', 'start': 66.36, 'end': 66.78}, {'id': 175, 'word': ' på.', 'start': 66.78, 'end': 66.92}, {'id': 176, 'word': ' Det', 'start': 67.34, 'end': 67.34}, {'id': 177, 'word': ' er', 'start': 67.34, 'end': 67.82}, {'id': 178, 'word': ' helt', 'start': 67.82, 'end': 67.98}, {'id': 179, 'word': ' ledt', 'start': 67.98, 'end': 68.22}, {'id': 180, 'word': ' for', 'start': 68.22, 'end': 68.3}, {'id': 181, 'word': ' en', 'start': 68.3, 'end': 68.4}, {'id': 182, 'word': ' vistig', 'start': 68.4, 'end': 68.62}, {'id': 183, 'word': ' og', 'start': 68.62, 'end': 68.72}, {'id': 184, 'word': ' real.', 'start': 68.72, 'end': 68.94}, {'id': 185, 'word': ' Det', 'start': 70.0, 'end': 70.4}, {'id': 186, 'word': ' er', 'start': 70.4, 'end': 70.54}, {'id': 187, 'word': ' ikke', 'start': 70.54, 'end': 70.54}, {'id': 188, 'word': ' godt,', 'start': 70.54, 'end': 70.72}, {'id': 189, 'word': ' hvad', 'start': 70.72, 'end': 70.92}, {'id': 190, 'word': ' jeg', 'start': 70.92, 'end': 71.02}, {'id': 191, 'word': ' er', 'start': 71.02, 'end': 71.34}, {'id': 192, 'word': ' en', 'start': 71.34, 'end': 71.58}, {'id': 193, 'word': ' tygisk', 'start': 71.58, 'end': 71.98}, {'id': 194, 'word': ' hård.', 'start': 71.98, 'end': 72.24}, {'id': 195, 'word': ' Jeg', 'start': 72.58, 'end': 72.62}, {'id': 196, 'word': ' sygisk', 'start': 72.62, 'end': 72.92}, {'id': 197, 'word': ' hård', 'start': 72.92, 'end': 73.1}, {'id': 198, 'word': ' faktisk,', 'start': 73.1, 'end': 73.4}, {'id': 199, 'word': ' jeg', 'start': 73.56, 'end': 73.64}, {'id': 200, 'word': ' er', 'start': 73.64, 'end': 73.74}, {'id': 201, 'word': ' stød', 'start': 73.74, 'end': 74.42}, {'id': 202, 'word': ' med.', 'start': 74.42, 'end': 74.56}, {'id': 203, 'word': ' Her,', 'start': 75.84, 'end': 76.12}, {'id': 204, 'word': ' hvor', 'start': 76.22, 'end': 76.3}, {'id': 205, 'word': ' vi', 'start': 76.3, 'end': 76.4}, {'id': 206, 'word': ' starte', 'start': 76.4, 'end': 76.68}, {'id': 207, 'word': ' noget,', 'start': 76.68, 'end': 76.84}, {'id': 208, 'word': ' var', 'start': 77.06, 'end': 77.44}, {'id': 209, 'word': ' jeg', 'start': 77.44, 'end': 77.54}, {'id': 210, 'word': ' ikke', 'start': 77.54, 'end': 77.68}, {'id': 211, 'word': ' så', 'start': 77.68, 'end': 77.8}, {'id': 212, 'word': ' tidig,', 'start': 77.8, 'end': 78.04}, {'id': 213, 'word': ' om', 'start': 78.04, 'end': 78.14}, {'id': 214, 'word': ' det', 'start': 78.14, 'end': 78.22}, {'id': 215, 'word': ' var', 'start': 78.22, 'end': 78.34}, {'id': 216, 'word': ' ikke', 'start': 78.34, 'end': 78.42}, {'id': 217, 'word': ' så', 'start': 78.42, 'end': 78.56}, {'id': 218, 'word': ' jord.', 'start': 78.56, 'end': 78.8}, {'id': 219, 'word': ' Og', 'start': 79.24, 'end': 79.26}, {'id': 220, 'word': ' siste', 'start': 79.26, 'end': 79.62}, {'id': 221, 'word': ' år', 'start': 79.62, 'end': 79.92}, {'id': 222, 'word': ' hedder', 'start': 79.92, 'end': 81.24}, {'id': 223, 'word': ' jeg', 'start': 81.24, 'end': 81.36}, {'id': 224, 'word': ' også', 'start': 81.36, 'end': 81.68}, {'id': 225, 'word': ' lidt', 'start': 81.68, 'end': 82.08}, {'id': 226, 'word': ' an', 'start': 82.08, 'end': 82.28}, {'id': 227, 'word': '-tygbevedet,', 'start': 82.28, 'end': 82.94}, {'id': 228, 'word': ' fordi', 'start': 83.08, 'end': 83.08}, {'id': 229, 'word': ' jeg', 'start': 83.08, 'end': 83.22}, {'id': 230, 'word': ' ikke', 'start': 83.22, 'end': 83.36}, {'id': 231, 'word': ' har', 'start': 83.36, 'end': 83.5}, {'id': 232, 'word': ' arbejdet', 'start': 83.5, 'end': 83.7}, {'id': 233, 'word': ' for', 'start': 83.7, 'end': 83.86}, {'id': 234, 'word': ' mig.', 'start': 83.86, 'end': 83.98}, {'id': 235, 'word': ' Men', 'start': 84.46, 'end': 84.6}, {'id': 236, 'word': ' hvad', 'start': 84.6, 'end': 84.76}, {'id': 237, 'word': ' tidigere', 'start': 84.76, 'end': 85.06}, {'id': 238, 'word': ' over', 'start': 85.06, 'end': 85.2}, {'id': 239, 'word': ' det', 'start': 85.2, 'end': 85.28}, {'id': 240, 'word': ' på', 'start': 85.28, 'end': 85.4}, {'id': 241, 'word': ' sammenhøj?', 'start': 85.4, 'end': 85.74}, {'id': 242, 'word': ' Når', 'start': 85.82, 'end': 86.02}, {'id': 243, 'word': ' man', 'start': 86.02, 'end': 86.14}, {'id': 244, 'word': ' prænder', 'start': 86.14, 'end': 86.4}, {'id': 245, 'word': ' så', 'start': 86.4, 'end': 86.52}, {'id': 246, 'word': ' meget', 'start': 86.52, 'end': 86.64}, {'id': 247, 'word': ' før', 'start': 86.64, 'end': 86.82}, {'id': 248, 'word': ' det,', 'start': 86.82, 'end': 86.96}, {'id': 249, 'word': ' så', 'start': 87.36, 'end': 87.66}, {'id': 250, 'word': ' føles', 'start': 87.66, 'end': 87.9}, {'id': 251, 'word': ' Timmerne', 'start': 87.9, 'end': 88.26}, {'id': 252, 'word': ' et', 'start': 88.26, 'end': 88.4}, {'id': 253, 'word': ' kort.', 'start': 88.4, 'end': 88.58}, {'id': 254, 'word': ' Det', 'start': 90.06, 'end': 90.32}, {'id': 255, 'word': ' lyder', 'start': 90.32, 'end': 90.52}, {'id': 256, 'word': ' lidt', 'start': 90.52, 'end': 90.66}, {'id': 257, 'word': ' ugerbekyst,', 'start': 90.66, 'end': 91.3}, {'id': 258, 'word': ' men', 'start': 91.38, 'end': 91.46}, {'id': 259, 'word': ' jeg', 'start': 91.46, 'end': 91.6}, {'id': 260, 'word': ' tror', 'start': 91.6, 'end': 91.74}, {'id': 261, 'word': ' egentlig', 'start': 91.74, 'end': 91.94}, {'id': 262, 'word': ' er', 'start': 91.94, 'end': 92.04}, {'id': 263, 'word': ' det,', 'start': 92.04, 'end': 92.16}, {'id': 264, 'word': ' jeg', 'start': 92.24, 'end': 92.28}, {'id': 265, 'word': ' bør', 'start': 92.28, 'end': 92.32}, {'id': 266, 'word': ' jo', 'start': 92.32, 'end': 92.46}, {'id': 267, 'word': ' også', 'start': 92.46, 'end': 92.58}, {'id': 268, 'word': ' gerne,', 'start': 92.58, 'end': 92.68}, {'id': 269, 'word': ' hvad', 'start': 92.68, 'end': 92.82}, {'id': 270, 'word': ' det', 'start': 92.82, 'end': 92.9}, {'id': 271, 'word': ' være.', 'start': 92.9, 'end': 92.98}, {'id': 272, 'word': ' Det', 'start': 93.42, 'end': 93.58}, {'id': 273, 'word': ' skal', 'start': 93.58, 'end': 93.76}, {'id': 274, 'word': ' bare', 'start': 93.76, 'end': 93.9}, {'id': 275, 'word': ' kunne', 'start': 93.9, 'end': 94.14}, {'id': 276, 'word': ' blive', 'start': 94.14, 'end': 94.34}, {'id': 277, 'word': ' ved', 'start': 94.34, 'end': 94.56}, {'id': 278, 'word': ' med', 'start': 94.56, 'end': 94.64}, {'id': 279, 'word': ' at', 'start': 94.64, 'end': 94.78}, {'id': 280, 'word': ' være', 'start': 94.78, 'end': 94.86}, {'id': 281, 'word': ' sådan.', 'start': 94.86, 'end': 95.04}]
def split_list_in_objects(words, max_length):
    current_length = 0
    current_objects = []

    for word in words:
        word_length = len(word['word'])  # Adjust this according to your actual criteria
        # Check if adding the current word would exceed the maximum length
        if current_length + word_length <= max_length:
            current_objects.append(word)
            current_length += word_length
        else:
            # Yield the current set of objects and start a new accumulation
            yield current_objects
            current_objects = [word]
            current_length = word_length

    # Yield the last set of objects
    if current_objects:
        yield current_objects


# Example usage:
max_length = 500  # Define your maximum length
for objects in split_list_in_objects(words, max_length):
    print(objects)



def get_transcription(batched_words, save_path):
        for batch in batched_words:
            client = OpenAI(api_key="")
            response = client.chat.completions.create(
                model="gpt-3.5-turbo",
                messages=[    
                    {"role": "system", "content": f"You are a subtitle generator. You will be provided with list of objects each containing a word, an id, a start time and an end time. You will produce a text in an srt-format. (i.e. ``1\n00:00:05,439 --> 00:00:06,459\nDet er en forkærlighed,\n\n2\n00:00:06,480 --> 00:00:06,780\nder har været,\n\n3\n00:00:06,839 --> 00:00:07,480\nsiden man var helt ung.\n\n4\n00:00:07,759 --> 00:00:09,800\nLigesom små børn kan lide traktorer,\n``) The lines must be no longer than 50 characters. You will also check for spelling mistakes. The srt file should be in danish. You will return only the text for the srt-file."},
                    {"role": "user", "content": str(batch)}]
            )

            print(response.choices[0].message.content)


